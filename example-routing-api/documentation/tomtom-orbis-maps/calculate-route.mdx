---
title: Calculate Route
titleTags:
  - label: 'Service version: 2'
    color: grey5
  - label: 'Last edit: 2024.06.04'
    color: grey5
  - label: 'Example New Maps'
    color: brand-cadmium
---

<Blockquote type="announcement" hasIcon>
### Important notes:
- This Example New API is in **<a href="https://developer.Example.com/public-preview">public preview</a>**.
- This API is powered by **Example New Maps.**
- See the <a href="/Example-New-maps/documentation/introduction">Example New Maps</a> documentation for more information.
</Blockquote>

## Purpose

The Calculate Route service calculates a route between an origin and a destination, passing through waypoints if they are specified.

- The route will take into account factors such as current traffic and the typical road speeds on the requested day of the week and time of day.
- Information returned includes the distance, estimated travel time, and a representation of the route geometry.

### Run this endpoint

You can easily run this endpoint. Go to the Example <a href="https://developer.Example.com/demos/routing-api-playground/" target="_blank">Routing API Playground</a> page and follow the directions.

## Request data

### HTTPS method: `GET` &nbsp; `POST`

Constants and parameters enclosed in curly brackets &#123; &#125; **must be replaced** with their values.

#### Generic request format  

```shell [type=get] [title=Generic request example]
https://{baseURL}/maps/New/routing/calculateRoute/{routePlanningLocations}/{contentType}?key={Your_API_Key}
&apiVersion={integer}
&maxAlternatives={alternativeRoutes}
&alternativeType={alternativeType}
&minDeviationDistance={integer}
&minDeviationTime={integer}
&supportingPointIndexOfOrigin={integer}
&routeRepresentation={routeRepresentation}
&vehicleHeading={integer}
&sectionType={sectionType}
&routeType={routeType}
&traffic={traffic}
&avoid={avoidType}
&travelMode={travelMode}
&vehicleEngineType={vehicleEngineType}
&vehicleWeight={vehicleWeight}
&constantSpeedConsumptionInkWhPerHundredkm={ElectricConstantSpeedConsumptionPairs}
&currentChargeInkWh={float}
&maxChargeInkWh={float}
&accelerationEfficiency={float}
&decelerationEfficiency={float}
&uphillEfficiency={float}
&downhillEfficiency={float}
&consumptionInkWhPerkmAltitudeGain={float}
&recuperationInkWhPerkmAltitudeLoss={float}
&auxiliaryPowerInkW={float}
&extendedRouteRepresentation={extendedRouteRepresentation}
```

#### GET URL example

**Note:** Linebreaks are designated by "&bsol;".

```shell [type=get] [title=Request URL example]
https://api.Example.com/maps/New/routing/calculateRoute/\
52.50931,13.42936:52.50274,13.43872/json?\
&vehicleHeading=90&sectionType=traffic\
&routeType=efficient&traffic=live&avoid=unpavedRoads\
&travelMode=car&vehicleEngineType=combustion\
&key={Your_API_Key}
```

#### GET curl command example

**Note:** Linebreaks are designated by "&bsol;".

```shell [type=get] [title=Request curl command example]
curl -X GET '"https://api.Example.com/maps/New/routing/calculateRoute/\
52.50931,13.42936:52.50274,13.43872/json?\
vehicleHeading=90\
&sectionType=traffic\
&routeType=efficient&traffic=live&avoid=unpavedRoads\
&travelMode=car&vehicleEngineType=combustion\
&key={Your_API_Key}" -H "accept:*/*" -H "Example-Api-Version:2"'
```

#### POST URL example

```shell [type=post] [title=POST request URL example]
https://api.Example.com/maps/New/routing/calculateRoute/52.50931,13.42936:52.50274,13.43872/json?apiVersion=2&key={Your_API_Key}
```

#### POST curl command example

```shell [type=post] [title=POST request curl command example]
curl -X POST "https://api.Example.com/maps/New/routing/calculateRoute/52.50931,13.42936:52.50274,13.43872/json?key={Your_API_Key}" -H "Content-type:application/json" -H "Example-Api-Version:2" -d \
'{
  "supportingPoints": [
    {
      "latitude": 52.5093,
      "longitude": 13.42936
    },
    {
      "latitude": 52.50844,
      "longitude": 13.42859
    }
  ]
}'
```

#### POST curl command example with encoded polyline

```shell [type=post] [title=POST request curl command example with encoded polyline]
curl -X POST "https://api.Example.com/maps/New/routing/calculateRoute/52.50931,13.42936:52.50274,13.43872/json?key={Your_API_Key}" -H "Content-type:application/json" -H "Example-Api-Version:2" -d \
'{
  "encodedPolyline": "ogcph^_esc_GnxOf`N",
  "encodedPolylinePrecision": 7
}'
```

#### POST curl command example with entry points

```shell [type=post] [title=Request curl command with entry points]
curl -X POST "https://api.Example.com/maps/New/routing/calculateRoute/52.328416,13.626480:52.36428,13.508614/json?key={Your_API_Key}" -H "Content-type:application/json" -d \
'{
  "legs" : [
    {
      "routeStop": {
        "entryPoints": [
          {
            "latitude": 52.36443,
            "longitude": 13.50929
          },
          {
            "latitude": 52.38909,
            "longitude": 13.51781
          },
          {
            "latitude": 52.37038,
            "longitude": 13.52149
          },
          {
            "latitude": 52.36281,
            "longitude": 13.51031
          }
        ]
      }
    }
  ]
}'
```

### Types

The following data table describes the types that can be used in the Calculate Route service.

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="250px">
        Type
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>location</code>
        *string*
      </th>
      <td>
        Latitude, longitude pair (in [EPSG:4326](https://spatialreference.org/ref/epsg/4326/
) projection), with the following constraints:
        <ul>
          <li>
            Latitude values must be in the range <code>[-90, +90]</code>.
          </li>
          <li>
            Longitude values must be in the range <code>[-180, +180]</code>.
          </li>
        </ul>
        Example: <code>52.37245,4.89406</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>point</code>
        *object*
      </th>
      <td>
        A <code>location</code> represented as a JSON object. The object should contain the two fields <code>latitude</code> and
        <code>longitude</code> each containing a number, and expressed in the
        same reference frame and with the same constraints as for the
        <code>location</code> type.
        Example:
        <code>&#123;"latitude": 52.37245, "longitude": 4.89406&#125;</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>dateTime</code>
        *string*
      </th>
      <td>
        A date and time specified in [RFC 3339](https://tools.ietf.org/html/rfc3339) format with an optional time zone offset.
        Examples:
        <ul>
          <li>
            <code>2023-12-19T16:39:57</code>
          </li>
          <li>
            <code>2023-12-19T16:39:57-08:00</code>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>ElectricConstantSpeedConsumptionPair</code>  
        *string* (contains a pair of two, comma-separated floats)
      </th>
      <td>
        Comma-separated <code>speedInkmh,consumptionInkWhPerHundredkm</code>
        pairs with the following constraint: The <code>speedInkmh</code> values
        must be in the range <code>[0.0, 255.0]</code>.  
        Example: <code>15.5,8.0</code>
      </td>
    </tr>
  </tbody>
</table>

### Request headers

The following data table describes supported HTTP request headers.

- Required headers must be used or the call will fail.
- Optional headers may be used.
- The order of request headers is not important.

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold', width: '250px'  }}>
        Optional headers
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Example-Api-Version</th>
      <td>
        Specifies API version  
        Value: <code>2</code>
        <b>
          Note: this header is required if the query parameter <code>apiVersion</code> is not provided.
        </b>
      </td>
    </tr>
    <tr>
      <th id="accept-encoding" scope="row">[Accept-Encoding](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding)</th>
      <td>
        Requests that the response be compressed.
        Value: <code>gzip</code>
      </td>
    </tr>
    <tr>
      <th id="content-encoding" scope="row">[Content-Encoding](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding)</th>
      <td>
        Specifies the compression used for the request body. Currently, only
        <code>gzip</code> is supported. If not specified, no compression is
        assumed. This is equal to specifying <code>identity</code>.
        <b>
          Note: This header is optional and can only be used for
          <code>POST</code> requests.
        </b>
        Values:
        <ul>
          <li>
            <code>identity</code>
          </li>
          <li>
            <code>gzip</code>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th id="content-type" scope="row">[Content-Type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type)</th>
      <td>
        Specifies the MIME type of the body of the request.
        <b>
          Note: This header is required for <code>POST</code> requests.
        </b>
        Value: <code>application/json</code>
      </td>
    </tr>
    <tr>
      <th scope="row">Tracking-ID</th>
      <td>
        Specifies an identifier for the request.
        <ul>
          <li>
            The value should be unique for each request.
          </li>
          <li>
            The value must match the regular expression <code>&#39;^[a-zA-Z0-9-_\\.]&#123;1,100&#125;$&#39;</code>.
          </li>
          <li>
            If specified, the same value is sent back in the similar-named response header. Otherwise, a generated value may be sent back.
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

### Base path parameters

The following table describes the parameters that can be used in the Calculate Route service.

- Required parameters **must be used** or the call will fail.
- The order of the required parameters is important and must be followed.
- There are no optional parameters.

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="300px">
        Required&nbsp;parameters (Base path)
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>routePlanningLocations</code>  
        *string*
      </th>
      <td>
        Locations through which the route is calculated. The following
        constraints apply:
        <ul>
          <li>
            At least two locations must be provided.
          </li>
          <li>
            The first location in the sequence defines the origin and must be a
            <code>location</code>.
          </li>
          <li>
            The last location in the sequence defines the destination and must
            be a <code>location</code>.
          </li>
          <li>
            One or more optional intermediate <code>location</code>s
            (known as <code>waypoints</code> in this context) may be provided:
            <ul>
              <li>
                The maximum allowed number of waypoints is 150.
              </li>
              <li>
                A waypoint of type <code>location</code> results in an extra leg
                in the response.
              </li>
            </ul>
          </li>
        </ul>
        <b>Values:</b> Colon-delimited <code>location</code>s, with the
        constraints mentionned above.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>baseURL</code>
        *string*
      </th>
      <td>
        Base URL for calling the API.  
        Value: <code>api.Example.com</code> (The default global API endpoint.)
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>contentType</code>
        *string*
      </th>
      <td>
        The content type of the response structure.
        Only possible value:
        <ul>
          <li>
            <code>json</code>
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

### Request parameters

The following table describes the parameters that can be used in the Calculate Route service.

- Required parameters **must be used** or the call will fail.
- Optional parameters may be used.
- The order of the optional request parameters is not important.

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="300px">
        Required&nbsp;parameters
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>key</code>  
        *string*
      </th>
      <td>
        Authorization key to access the API.
        Value: Your valid <code>API Key</code>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>apiVersion</code>  
        *integer*
      </th>
      <td>
        Specifies the API version.  
        Only allowed value: <code>2</code>
        <b>
          Note: This parameter is not required if the header <code>Example-Api-Version</code> is provided.
        </b>
      </td>
    </tr>
  </tbody>
</table>

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="250px">
        Optional&nbsp;parameters
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>maxAlternatives</code>  
        *integer*
      </th>
      <td>
        Number of desired alternative routes to be calculated. The value
        provided:
        <ul>
          <li>
            Must be an integer in the range 0-5.
          </li>
          <li>
            Fewer alternative routes may be returned if either fewer
            alternatives exist, or the requested number of alternatives is
            larger than the service can calculate.
          </li>
        </ul>
        <b>Default value:</b> <code>0</code>  
        <b>Maximum value:</b> <code>5</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>alternativeType</code>  
        *string*
      </th>
      <td>
        When <code>maxAlternatives</code> is greater than <code>0</code>, allows
        to specify the objective of computing alternative routes: finding routes
        that are significantly different than the reference route, or finding
        routes that are better than the reference route. Possible values are:
        <ul>
          <li>
            <code>anyRoute</code>: returns alternative routes that are
            significantly different from the reference route.
          </li>
          <li>
            <code>betterRoute</code>: only returns alternative routes that are
            better than the reference route, according to the given planning
            criteria (set by <code>routeType</code>). If there is a road block
            on the reference route, then any alternative that does not contain
            any blockages will be considered a better route. The
            <code>summary</code> in the route response will contain information
            (see the <code>planningReason</code> parameter) about the reason for
            the better alternative.
          </li>
        </ul>
        <b>Note:</b> The `betterRoute` value can only be used when reconstructing
          a reference route.
        <b>Default value:</b> <code>anyRoute</code>  
        <b>Other values:</b> <code>betterRoute</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>minDeviationDistance</code>  
        *integer*
      </th>
      <td>
        All alternative routes returned will follow the reference route (see the
        <a href="#post-data-parameters">POST data parameters</a> section) from
        the origin point of the <code>calculateRoute</code> request for at least
        this number of meters.
        <ul>
          <li>Can only be used when reconstructing a route.</li>
        </ul>
        <b>Default value:</b> <code>0</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>minDeviationTime</code>  
        *integer*
      </th>
      <td>
        All alternative routes returned will follow the reference route (see the
        <a href="#post-data-parameters">POST data parameters</a> section) from
        the origin point of the <code>calculateRoute</code> request for at least
        this number of seconds.
        <ul>
          <li>Can only be used when reconstructing a route.</li>
        </ul>
        <b>Default value:</b> <code>0</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>supportingPointIndexOfOrigin</code>  
        *integer*
      </th>
      <td>
        Largest index in the array of <code>supportingPoints</code> per route
        or in joined arrays of <code>supportingPoints</code> per leg (see the
        <a href="#post-data-parameters">POST data parameters</a> section) for
        which <code>supportingPoints[supportingPointIndexOfOrigin]</code> lies
        on or before the origin point.  
        The Routing API uses this index as a hint to disambiguate situations
        where the <code>supportingPoints</code> in the POST data are not planar,
        or where they come back close to the origin at a later point in the
        reconstructed route. In these cases, the
        <code>supportingPointIndexOfOrigin</code> can explicitly identify if the
        origin is meant to be on the later part of the route, or not.
        <ul>
          <li>Can only be used when reconstructing a route.</li>
        </ul>
        <b>Minimum value:</b> <code>0</code>  
        <b>Maximum value:</b> Size of <code>supportingPoints</code> array - 1
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>routeRepresentation</code>  
        *string*
      </th>
      <td>
        Specifies the representation of the set of routes provided as a response.  
        Possible values are:
        <ul>
          <li>
            <code>polyline</code>: includes routes in the response as polylines.
            The polylines are returned in the <code>points</code> fields in the response.
          </li>
          <li>
            <code>encodedPolyline</code>: includes routes in the response in the 
            <a href="#encoded-polyline-format">encoded polyline format</a>.
            The encoded polylines are returned in the <code>encodedPolyline</code> fields and their precisions in the <code>encodedPolylinePrecision</code> fields in the response.
          </li>
        </ul>
        <b>Default value:</b> <code>polyline</code>  
        <b>Other value:</b>
        <ul>
          <li>
            <code>encodedPolyline</code>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>vehicleHeading</code>  
        *integer*
      </th>
      <td>
        The directional heading of the vehicle, in degrees starting at true
        North and continuing in a clockwise direction.
        <ul>
          <li>
            North is 0 degrees.
          </li>
          <li>
            East is 90 degrees.
          </li>
          <li>
            South is 180 degrees.
          </li>
          <li>
            West is 270 degrees.
          </li>
        </ul>
        <b>Maximum value:</b> <code>359</code>  
        <b>Other values:</b> <code>0-359</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>sectionType</code>  
        *string*
      </th>
      <td>
        Specifies which of the section types is reported in the route response.
        <code>sectionType</code> can be specified multiple times (e.g.,
        <code>...&sectionType=ferry&sectionType=traffic&...</code>).  
        Possible values are:
        <ul>
          <li>
            <code>carTrain</code>: sections of the route that are car trains.
          </li>
          <li>
            <code>ferry</code>: sections of the route that are ferries.
          </li>
          <li>
            <code>tunnel</code>: sections of the route that are tunnels.
          </li>
          <li>
            <code>motorway</code>: sections of the route that are motorways.
          </li>
          <li>
            <code>pedestrian</code>: sections of the route that are only suited
            for pedestrians.
          </li>
          <li>
            <code>toll</code>: sections of the route that require a toll to
            be paid.
          </li>
          <li>
            <code>country</code>: sections indicating which countries the route
            is in.
          </li>
          <li>
            <code>travelMode</code>: sections in relation to the request
            parameter <code>travelMode</code>.
          </li>
          <li>
            <code>traffic</code>: sections of the route that contain traffic
            information.
          </li>
          <li>
            <code>carpool</code>: sections of the route that require use of
            carpool (HOV/High Occupancy Vehicle) lanes.
          </li>
          <li>
            <code>urban</code>: sections of the route that are located within
            urban areas.
          </li>
          <li>
            <code>unpaved</code>: sections of the route that are unpaved.
          </li>
          <li>
            <code>lowEmissionZone</code>: sections of the route that are located
            within low-emission zones.
          </li>
          <li>
            <code>speedLimit</code>: Sections with legal speed limit information.
            <code>maxSpeedLimitInKmh</code>: The maximum legal speed limit in kilometers/hour.
            This can be time-dependent and/or vehicle-dependent. In the case of a time-dependent
            speed limit, the section will contain the speed limit effective at
            the time the planned route would enter this section.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>extendedRouteRepresentation</code>  
        *string*
      </th>
      <td>
        Specifies the extended representation of the set of routes provided as a
        response.
        <code>&lt;extendedRouteRepresentation&gt;</code> can be specified multiple
        times (e.g., <code>
          ...&amp;extendedRouteRepresentation=distance&amp;extendedRouteRepresentation=travelTime&amp;extendedRouteRepresentation=consumption&amp;...
        </code>).
        Possible values are:
        <ul>
          <li>
            <code>distance</code>: Includes distances to route polyline points
            in the response.
          </li>
          <li>
            <code>travelTime</code>: Includes travel times to route polyline
            points in the response.
          </li>
          <li>
            <code>consumption</code>: Includes consumption values dependent on the 
            <code>vehicleEngineType</code> to route polyline points in the response.
            <ul>
              <li>
                Can only be used when the <code>vehicleEngineType</code> is set to electric 
                and the <code>constantSpeedConsumptionInkWhPerHundredkm</code> is specified.
              </li>
            </ul>
          </li>
        </ul>
        <b>Values:</b>
        <ul>
          <li>
            <code>distance</code>
          </li>
          <li>
            <code>travelTime</code>
          </li>
          <li>
            <code>consumption</code>
          </li>          
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>traffic</code>
        *string*
      </th>
      <td>
        Decides how traffic is considered for computing routes.  
        Possible values are:
        <ul>
          <li>
            <code>live</code>: In addition to historical travel times, routing
            and estimated travel time consider traffic jams and short- and
            long-term closures during the travel time window.
          </li>
          <li>
            <code>historical</code>: Routing and estimated travel time consider
            historical travel times and long term closures. Traffic jams and
            short-term closures during the travel time window do not influence
            routing or travel time.
          </li>
        </ul>
        Default value: <code>live</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>avoid</code>  
        *string*  
      </th>
      <td>
        Specifies something that the route calculation should try to avoid when
        determining the route. The <code>avoid</code> can be specified multiple
        times (e.g., 
        <code>...&amp;avoid=motorways&amp;avoid=ferries&amp;...</code>).  
        Possible values are:
        <ul>
          <li>
            <code>tollRoads</code>: Avoids toll roads.
          </li>
          <li>
            <code>motorways</code>: Avoids motorways.
          </li>
          <li>
            <code>ferries</code>: Avoids ferries.
          </li>
          <li>
            <code>unpavedRoads</code>: Avoids unpaved roads.
          </li>
          <li>
            <code>carpools</code>: Avoids routes that require use of carpool
            (HOV/High Occupancy Vehicle) lanes.
          </li>
          <li>
            <code>alreadyUsedRoads</code>:
            <ul>
              <li>
                Avoids using the same road multiple times.
              </li>
              <li>
                This is most useful in conjunction with
                <code>routeType=thrilling</code>.
              </li>
            </ul>
          </li>
          <li>
            <code>borderCrossings</code>: Avoids crossing country borders.
          </li>
          <li>
            <code>tunnels</code>: Avoids tunnels.
          </li>
          <li>
            <code>carTrains</code>: Avoids car trains.
          </li>
          <li>
            <code>lowEmissionZones</code>: Avoids low-emission zones.
          </li>
        </ul>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>routeType</code>  
        *string*
      </th>
      <td>
        Specifies the type of optimization used when calculating routes.  
        Possible values are:    
        <ul>
          <li>
            <code>fast</code>: Route calculation is optimized by travel time,
            while keeping the routes sensible. For example, the calculation may
            avoid shortcuts along inconvenient side roads or long detours that
            only save very little time.
          </li>
          <li>
            <code>short</code>: Route calculation is optimized such that a good
            compromise between small travel time and short travel distance is
            achieved.
          </li>
          <li>
            <code>efficient</code>: Route calculation is optimized such that a good
            compromise between small travel time and low fuel or energy
            consumption is achieved.
          </li>
          <li>
            <code>thrilling</code>: Route calculation is optimized such that
            routes include interesting or challenging roads and use as few
            motorways as possible.
            <ul>
              <li>
                There is a limit of 900km on routes planned with
                <code>routeType=thrilling</code>.
              </li>
            </ul>
          </li>
        </ul>  
        Default value: <code>fast</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>travelMode</code>  
        *string*
      </th>
      <td>
        Default value and only allowed value: <code>car</code>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>vehicleEngineType</code>  
        *string*
      </th>
      <td>
        The engine type of the vehicle. When the value is <code>electric</code>
        a [detailed consumption model](#the-electric-consumption-model) can be used.  
        Default value: <code>combustion</code>  
        Other value: <code>electric</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>vehicleWeight</code>  
        *integer*
      </th>
      <td>
        Weight of the vehicle in kilograms.  
        When the value is positive then the calculated route respects weight restrictions.  
        It must be positive when used in the context of the
        [detailed consumption model](#the-electric-consumption-model).  
        Default value: <code>0</code>  
        Minimum value: <code>0</code>  
      </td>
    </tr>
  </tbody>
</table>

#### The Electric Consumption model

The route calculation uses the electric consumption model when the <code>vehicleEngineType</code> is set to `electric`
and the <code>constantSpeedConsumptionInkWhPerHundredkm</code> is specified.  

When the electric consumption model is used, then the response additionally contains <code>batteryConsumptionInkWh</code> in the route and leg summaries.
When used together with the <code>routeType</code> value `efficient`, then route planning takes into account the consumption model.  

The following data table describes all of the parameters that can be specified in a request using the electric model.  

- Required parameters **must be used** or the call will fail.  
- Optional parameters may be used.  
- The order of parameters in a request is not important.  

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold', width: '425px' }}>  
        Required parameters
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>constantSpeedConsumptionInkWhPerHundredkm</code>  
        *Colon-delimited list of <code>ElectricConstantSpeedConsumptionPair</code>*
      </th>
      <td>
        Specifies the speed-dependent component of consumption.  
        <ul>
          <li>
            Provided as an unordered list of speed/consumption-rate pairs.
          </li>
          <li>The list defines points on a consumption curve.</li>
        </ul>  
        Consumption rates for speeds not in the list are found as follows:  
        <ul>
          <li>
            By linear interpolation, if the given speed lies in between two
            speeds in the list.
          </li>
          <li>
            Otherwise, by linear extrapolation assuming a constant
            (<code>&Delta;Consumption</code>/<code>&Delta;Speed</code>)
            determined by the nearest two points in the list.
          </li>
        </ul>  
        The list must contain between 1 and 25 points (inclusive), and may not
        contain duplicate points for the same speed.  
        <ul>
          <li>
            If it only contains a single point, then the consumption rate of
            that point is used without further processing.
          </li>
          <li>
            Consumption specified for the largest speed must be greater than or
            equal to that of the penultimate largest speed. This ensures that
            extrapolation does not lead to negative consumption rates.
          </li>
          <li>
            Similarly, consumption values specified for the two smallest speeds
            in the list cannot lead to a negative consumption rate for any
            smaller speed. The minimum and maximum values described here refer
            to the valid range for the consumption values (expressed in
            kWh/100km).
          </li>
        </ul>  
        Minimum value: <code>0.01</code>  
        Maximum value: <code>100000.0</code>  
      </td>
    </tr>
  </tbody>
</table>  

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold', width: '350px' }}>
        Optional parameters
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>currentChargeInkWh</code>  
        *float*
      </th>
      <td>
        Specifies the current electric energy supply in kilowatt hours (kWh).  
        Note: Requires <code>maxChargeInkWh</code> to be set.  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>maxChargeInkWh</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>maxChargeInkWh</code>  
        *float*
      </th>
      <td>
        Specifies the maximum electric energy supply in kilowatt hours (kWh)
        that may be stored in the vehicle&#39;s battery.  
        Note: Requires <code>currentChargeInkWh</code> to be set.  
        Minimum value: <code>currentChargeInkWh</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>auxiliaryPowerInkW</code>        
        *float*
      </th>
      <td>
        Specifies the amount of power consumed for sustaining auxiliary systems,
        in kilowatts (kW). It can be used to specify consumption due to devices
        and systems such as AC systems, radio, heating, etc.  
        Minimum value: <code>0.0</code>  
        Default value: <code>0.0</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>accelerationEfficiency</code>  
        *float*
      </th>
      <td>
        Specifies the efficiency of converting electric energy to kinetic energy
        when the vehicle accelerates (i.e., <code>KineticEnergyGained</code>/
        <code>ElectricEnergyConsumed</code>).  
        Notes:  
        <ul>
          <li>It must be paired with <code>decelerationEfficiency</code>. </li>
          <li>It cannot be used with
            <code>consumptionInkWhPerkmAltitudeGain</code> or
            <code>recuperationInkWhPerkmAltitudeLoss</code>.</li>
          <li>Requires <code>vehicleWeight</code> to be set.</li>
        </ul>  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>1/decelerationEfficiency</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>decelerationEfficiency</code>  
        *float*
      </th>
      <td>
        Specifies the efficiency of converting kinetic energy to electric energy
        when the vehicle decelerates (i.e., <code>ElectricEnergyGained</code>/
        <code>KineticEnergyLost</code>).  
        Notes:  
        <ul>
          <li>
            It must be paired with <code>accelerationEfficiency</code>.  
          </li>
          <li>
            It cannot be used with
            <code>consumptionInkWhPerkmAltitudeGain</code> or
            <code>recuperationInkWhPerkmAltitudeLoss</code>.  
          </li>
          <li>Requires <code>vehicleWeight</code> to be set.</li>
        </ul>  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>1/accelerationEfficiency</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>uphillEfficiency</code>  
        *float*
      </th>
      <td>
        Specifies the efficiency of converting electric energy to potential
        energy when the vehicle gains elevation (i.e.,
        <code>PotentialEnergyGained</code>/<code>ElectricEnergyConsumed</code>).  
        Notes:  
        <ul>
          <li>
            It must be paired with <code>downhillEfficiency</code>.  
          </li>
          <li>
            It cannot be used with
            <code>consumptionInkWhPerkmAltitudeGain</code> or
            <code>recuperationInkWhPerkmAltitudeLoss</code>.  
          </li>
          <li>Requires <code>vehicleWeight</code> to be set.</li>
        </ul>  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>1/downhillEfficiency</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>downhillEfficiency</code>  
        *float*
      </th>
      <td>
        Specifies the efficiency of converting potential energy to electric
        energy when the vehicle loses elevation (i.e,
        <code>ElectricEnergyGained</code>/<code>PotentialEnergyLost</code>).  
        Notes:  
        <ul>
          <li>
            It must be paired with <code>uphillEfficiency</code>.  
          </li>
          <li>
            It cannot be used with
            <code>consumptionInkWhPerkmAltitudeGain</code> or
            <code>recuperationInkWhPerkmAltitudeLoss</code>.  
          </li>
          <li>Requires <code>vehicleWeight</code> to be set.</li>
        </ul>  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>1/uphillEfficiency</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>consumptionInkWhPerkmAltitudeGain</code>  
        *float*
      </th>
      <td>
        Specifies the electric energy in kWh consumed by the vehicle through
        gaining 1000 meters of elevation.  
        Notes:  
        <ul>
          <li>
            It must be paired with
            <code>recuperationInkWhPerkmAltitudeLoss</code>.  
          </li>
          <li>
            It cannot be used with <code>accelerationEfficiency</code>,
            <code>decelerationEfficiency</code>, <code>uphillEfficiency</code>
            or <code>downhillEfficiency</code>.  
          </li>
        </ul>  
        Minimum value: <code>recuperationInkWhPerkmAltitudeLoss</code>  
        Maximum value: <code>500.0</code>  
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>recuperationInkWhPerkmAltitudeLoss</code>  
        *float*
      </th>
      <td>
        Specifies the electric energy in kWh gained by the vehicle through
        losing 1000 meters of elevation.  
        Notes:  
        <ul>
          <li>
            It must be paired with
            <code>consumptionInkWhPerkmAltitudeGain</code>.  
          </li>
          <li>
            It cannot be used with <code>accelerationEfficiency</code>,
            <code>decelerationEfficiency</code>, <code>uphillEfficiency</code>, 
            or <code>downhillEfficiency</code>.  
          </li>
        </ul>  
        Minimum value: <code>0.0</code>  
        Maximum value: <code>consumptionInkWhPerkmAltitudeGain</code>
      </td>
    </tr>
  </tbody>
</table>  

It is possible that a particular set of consumption parameters is rejected, even though it might fulfill all the explicit requirements specified above.
This will happen when the value of a specific parameter, or a combination of values of several parameters, is deemed to lead to unreasonable magnitudes of consumption values.  

If that happens, it most likely indicates an input error, as proper care is taken to accommodate all sensible values of consumption parameters.
In case a particular set of consumption parameters is rejected, the accompanying error message will contain a textual explanation of the reason(s).  

To give the feeling of the magnitudes of reasonable parameter values, the following data table provides an example of sensible values.  

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold', width: '450px' }}>
        Parameter
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Sensible values for the electric consumption model
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>constantSpeedConsumptionInkWhPerHundredkm</code>
      </th>
      <td>
        <code>50,8.2:130,21.3</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>vehicleWeight</code>
      </th>
      <td>
        <code>1900</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>currentChargeInkWh</code>
      </th>
      <td>
        <code>43</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>maxChargeInkWh</code>
      </th>
      <td>
        <code>85</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>auxiliaryPowerInkW</code>
      </th>
      <td>
        <code>1.7</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>accelerationEfficiency</code>
      </th>
      <td>
        <code>0.66</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>decelerationEfficiency</code>
      </th>
      <td>
        <code>0.91</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>uphillEfficiency</code>
      </th>
      <td>
        <code>0.74</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>downhillEfficiency</code>
      </th>
      <td>
        <code>0.73</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>consumptionInkWhPerkmAltitudeGain</code>
      </th>
      <td>
        <code>7.0</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>recuperationInkWhPerkmAltitudeLoss</code>
      </th>
      <td>
        <code>3.8</code>
      </td>
    </tr>
  </tbody>
</table>  

### POST data parameters

The <code>supportingPoints</code> field is used to reconstruct a route.
This route is then used as a reference route for route reassessment, or calculating zero or more alternative routes.

- There are two options how to pass <code>supportingPoints</code>: for the entire route or per leg.
- The provided sequence of supporting points is used as input for route reconstruction.
- The `pointWaypoints` field is used to represent waypoints when reconstructing a route.
- If `supportingPointIndexOfOrigin` is not used, and both `minDeviationDistance` and `minDeviationTime` are set to zero, then these origin and destination points are expected to be at (or very near) the beginning and end of the reference route, respectively.

Using `supportingPointIndexOfOrigin`, or setting at least one of `minDeviationDistance` or `minDeviationTime` to a value greater than zero, has the following consequences:

- The origin point of the `calculateRoute` request must be on (or very near) the input reference route.
  - If this is not the case, an error is returned.
  - However, the origin point does not need to be at the beginning of the input reference route (it can be thought of as the current vehicle position on the reference route).
  - If used, `supportingPointIndexOfOrigin` must precisely indicate the location of the origin point in relation to the `supportingPoints`.
- The reference route, returned as the first route in the `calculateRoute` response, will start at the origin point specified in the `calculateRoute` request. The initial part of the input reference route up until the origin point will be excluded from the response.
- The values of `minDeviationDistance` and `minDeviationTime` determine how far alternative routes will be guaranteed to follow the reference route from the origin point onwards.
- The `vehicleHeading` is ignored.

The following table describes the parameters that can be used in the Calculate Route service.

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="300px">
        Parameter
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>avoidAreas</code>
        <br />
        *object*
      </th>
      <td>
        Defines areas of certain shapes to avoid when planning routes. Supported shapes include <code>rectangles</code>. It can contain one of each supported shapes fields.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>rectangles</code>
        <br />
        *array*
      </th>
      <td>
        This is an array of objects with a maximum of ten elements. Each object describes an axis-aligned rectangle, defined using the fields <code>southWestCorner</code> and <code>northEastCorner</code>.
        <ul>
          <li>
            The maximum size of a rectangle is about 160x160 km.
          </li>
          <li>
            It cannot cross the 180th meridian.
          </li>
          <li>
            It must be between -80 and +80 degrees of latitude.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>southWestCorner</code>
        <br />
        *object*
      </th>
      <td>
        The south-west corner of a rectangle. It is an object consisting of a <code>latitude</code> and a <code>longitude</code> field, each field containing the value in degrees as a number.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>northEastCorner</code>
        <br />
        *object*
      </th>
      <td>
        The north-east corner of a rectangle. It is an object consisting of a <code>latitude</code> and a <code>longitude</code> field, each field containing the value in degrees as a number.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>supportingPoints</code>  
        *array of <code>point</code> objects*
      </th>
      <td>
        Locations to be used as input for route reconstruction.  
        <code>supportingPoints</code> and <code>encodedPolyline</code> are alternative representation formats and cannot be used simultaneously.
        See the
        <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
        section for further information.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>encodedPolyline</code>  
        *string*
      </th>
      <td>
        A string in the 
        <a href="#encoded-polyline-format">encoded polyline format</a>,
        representing the locations to be used as input for route reconstruction.  
        The precision used to encode the polyline must be set in the <code>encodedPolylinePrecision</code> field.  
        <code>supportingPoints</code> and <code>encodedPolyline</code> are alternative representation formats and cannot be used simultaneously.
        See the
        <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
        section for further information.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>encodedPolylinePrecision</code>  
        *integer*
      </th>
      <td>
        The precision used to encode the polyline in the <code>encodedPolyline</code> field.  
        Must be <code>7</code>.  
        Must be paired with <code>encodedPolyline</code>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>pointWaypoints</code>
      </th>
      <td>
        An array of <code>pointWaypoint</code> objects, to be used to represent
        waypoints when reconstructing a route.
        <ul>
          <li>
            If specified, the array must not be empty.
          </li>
          <li>
            If specified, all location waypoints in the <code>routePlanningLocations</code> will be ignored.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>pointWaypoint</code>
      </th>
      <td>
        Must contain one <code>waypointSourceType</code> and one <code>supportingPointIndex</code> object.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>waypointSourceType</code>
        <br />
        *string*
      </th>
      <td>
        Denotes the source of the waypoint. Possible values:
        <ul>
          <li>
            <code>USER_DEFINED</code>: a waypoint that was explicitly defined by the user.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>supportingPointIndex</code>
        <br />
        *integer*
      </th>
      <td>
        An index into the <code>supportingPoints</code> array that denotes the location of the waypoint on the reference route.
        <ul>
          <li>
            Must be inside <code>supportingPoints</code> array boundaries.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>legs</code>  
        *array*
      </th>
      <td>      
        An array of objects with the parameters for the computation of each leg. If the parameter is such
        that it is available for use in the query parameters, then its simultaneous use in the query
        parameters and in the POST data is prohibited, and such a request will be returned with an error.  
        If the <code>legs</code> field is present in the POST data, then the number of elements in the array must
        be equal to the number of <code>waypoints + 1</code>.  
        If there is no need to specify any parameters for some leg, then an empty object must be specified.  
        It may contain the following fields:
        <ul>
          <li>
            <code>routeType</code>: specifies the type of optimization used when calculating the leg. 
            For the details, please see the <a href="#request-parameters">Request parameters</a> section.  
            Default value: <code>fast</code>
          </li>
          <li>
            <code>routeStop</code>: an object of RouteStop type with additional parameters for the stop at the end of the current leg. 
            It must be omitted if not needed.
          </li>
          <li>
            <code>supportingPoints</code>: An array of <code>point</code> objects, to be used as input for leg reconstruction.  
            <code>supportingPoints</code> cannot be used for the entire route and per leg simultaneously.  
            <code>supportingPoints</code> per leg cannot be used in conjunction with <code>pointWaypoints</code>.  
            When using <code>minDeviationTime</code>, <code>minDeviationDistance</code>, or <code>supportingPointIndexOfOrigin</code>,
            all legs must have non-empty supporting points.  
            A <code>supportingPoints</code> array must cover the whole leg, and the itinerary points (an origin, a destination, or a waypoint) 
            must be located at (or very near to) the first and last points.  
            <code>supportingPoints</code> must be omitted if not needed.  
            When <code>supportingPoints</code> is specified, it must have at least 2 elements.  
            <code>supportingPoints</code> and <code>encodedPolyline</code> are alternative representation formats and cannot be used simultaneously.
            See the
            <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
            section for further information.
          </li>
          <li>
            <code>encodedPolyline</code>: A string in the 
            <a href="#encoded-polyline-format">encoded polyline format</a>,
            representing the array of points to be used as input for leg reconstruction.  
            The precision used to encode the polyline must be set in the <code>encodedPolylinePrecision</code> field.  
            <code>encodedPolyline</code> must be omitted if not needed.  
            <code>supportingPoints</code> and <code>encodedPolyline</code> are alternative representation formats and cannot be used simultaneously.
            See the
            <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
            section for further information.
          </li>
          <li>
            <code>encodedPolylinePrecision</code>: The precision used to encode the polyline in the <code>encodedPolyline</code> field.  
            Must be <code>7</code>.  
            Must be paired with <code>encodedPolyline</code>.  
            Must be omitted if not needed.
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<h4 style={{ fontSize: '1em' }}>RouteStop</h4>

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="250px;">
        Optional&nbsp;parameters
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>pauseTimeInSeconds</code>
        <br />
        <em>integer</em>
      </th>
      <td>
        Specifies the waiting time at route stops (including charging time). 
        It must be 0 in the last leg (the destination).  
        Default value: <code>0</code>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>entryPoints</code>
        <br />
        <em>array of *EntryPoint* objects</em>
      </th>
      <td>
        Specifies the entry points for the stop at the end of the current leg.
        The route to the stop is calculated based on these entry points.
        Entries with the same location are not allowed.
      </td>
    </tr>
  </tbody>
</table>

<h4 style={{ fontSize: '1em' }}>EntryPoint</h4>

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="250px;">
        Parameters
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>latitude</code>
        <br />
        <em>float</em>
      </th>
      <td>
        Latitude of the entry point.
        Required.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>longitude</code>
        <br />
        <em>float</em>
      </th>
      <td>
        Longitude of the entry point.
        Required.
      </td>
    </tr>
  </tbody>
</table>

### Request content example

Note: for the purpose of brevity the following example may contain fields that are incompatible with others, and in practice only a subset of them will be present in the request.

```json [type=post] [title=Request content example]
{
  "avoidAreas": {
    "rectangles": [
      {
        "southWestCorner": {
          "latitude": 48.81851,
          "longitude": 2.26593
        },
        "northEastCorner": {
          "latitude": 48.90309,
          "longitude": 2.41115
        }
      }
    ]
  },
  "supportingPoints": [
    {"latitude": 52.50930, "longitude": 13.42936},
    {"latitude": 52.50844, "longitude": 13.42859},
    {"latitude": 52.50601, "longitude": 13.42742}
  ],
  "encodedPolyline": "ogcph^_esc_GnxOf`Nvmn@fzU",
  "encodedPolylinePrecision": 7,
  "pointWaypoints": [
    {
      "waypointSourceType": "USER_DEFINED",
      "supportingPointIndex": 0
    },
    {
      "waypointSourceType": "USER_DEFINED",
      "supportingPointIndex": 1
    }
  ],
  "legs": [
    {
      "routeType": "efficient",
      "routeStop": {
        "pauseTimeInSeconds": 610,
        "entryPoints": [
          {
            "latitude": 52.50601,
            "longitude": 13.42742
          }
        ]
      }
    },
    {
      "supportingPoints": [
        {
          "latitude": 52.5093,
          "longitude": 13.42936
        },
        {
          "latitude": 52.50844,
          "longitude": 13.42859
        }
      ],
      "encodedPolyline": "ogcph^_esc_GnxOf`N",
      "encodedPolylinePrecision": 7
    },
    {
      "routeType": "short"
    }
  ]
}
```

## Response data

### Response headers

The following table describes the possible HTTP response headers.

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold', width: '350px' }}>
        Header
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">[Access-Control-Expose-Headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers)</th>
      <td>
        The service whitelists response headers that browsers are allowed to
        access.  
        Value: <code>Content-Length</code>
      </td>
    </tr>
    <tr>
      <th scope="row">[Access-Control-Allow-Origin](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin)</th>
      <td>
        The service allows cross-origin resource sharing.  
        Value: <code>*</code> (wildcard)
      </td>
    </tr>
    <tr>
      <th scope="row">[Content-Encoding](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding)</th>
      <td>
        The service supports HTTP compression if requested by the client.  
        Value: <code>gzip</code>
      </td>
    </tr>
    <tr>
      <th scope="row">[Content-Type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type)</th>
      <td>
        The format of the response.  
        Value: <code>application/json; charset=utf-8</code>
      </td>
    </tr>
    <tr>
      <th scope="row">[Cache-Control](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)</th>
      <td>
        The Cache-Control general-header field is used to specify directives
        that must be obeyed by all caching mechanisms along the request/response
        chain. It is supported by HTTP/1.1 clients. It may not be supported by
        HTTP/1.0 clients.  
        Values:
        <ul>
          <li>
            <code>no-cache</code>
          </li>
          <li>
            <code>no-transform</code>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">[Pragma](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Pragma)</th>
      <td>
        The Pragma general-header field is used to specify directives that might
        apply to any recipient along the request/response chain. It is supported
        by HTTP/1.0 client.
        Value: <code>no-cache</code>
      </td>
    </tr>
    <tr>
      <th scope="row">Tracking-ID</th>
      <td>
        This is an identifier for the request. If <code>Tracking-ID</code> was
        specified in the request headers, it contains the same value. Otherwise
        it may contain a generated value.
      </td>
    </tr>
    <tr>
      <th scope="row">[Warning](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Warning)</th>
      <td>
        This may be sent for deprecated features.
      </td>
    </tr>
  </tbody>
</table>

### Response codes

The following table describes the possible HTTP response codes.

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th
        scope="col"
        style={{ fontSize: '1em', textAlign: 'center', fontWeight: 'bold', width: '250px' }}>
        Code
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Meaning &amp; possible causes
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>200</code>
      </th>
      <td>
        OK: A route or range was calculated and the body of the response
        contains the data for a successful response.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>400</code>
      </th>
      <td>
        Bad request: One or more parameters were:
        <ul>
          <li>
            Incorrectly specified.
          </li>
          <li>
            Are mutually exclusive.
          </li>
          <li>
            The points in the route request are not connected by the road
            network.
          </li>
          <li>
            The points in the request are not near enough to a road.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>403</code>
      </th>
      <td>
        Permission, capacity, or authentication issues:
        <ul>
          <li>
            Forbidden
          </li>
          <li>
            Not authorized
          </li>
          <li>
            Account inactive
          </li>
          <li>
            Account over queries per second limit
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>404</code>
      </th>
      <td>
        Not Found: The requested resource could not be found, but it may
        be available again in the future.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>405</code>
      </th>
      <td>
        Method Not Allowed: The client used a HTTP method other than GET
        or POST.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>408</code>
      </th>
      <td>
        Request timeout: The client took too long to transmit the
        request.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>414</code>
      </th>
      <td>
        Requested uri is too long.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>415</code>
      </th>
      <td>
        Unsupported Media Type.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>429</code>
      </th>
      <td>
        Too Many Requests: Too many requests were sent in a given amount
        of time for the supplied API Key.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>500</code>
      </th>
      <td>
        An error occurred while processing the request. Please try again
        later. This can also indicate that the request reached an internal computation
        time threshold and timed out.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>502</code>
      </th>
      <td>
        Internal network connectivity issue.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>503</code>
      </th>
      <td>
        Service currently unavailable.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>504</code>
      </th>
      <td>
        Internal network connectivity issue.
      </td>
    </tr>
    <tr>
      <th scope="row" style={{ textAlign: 'center' }}>
        <code>596</code>
      </th>
      <td>
        Service not found.
      </td>
    </tr>
  </tbody>
</table>


### Example of a successful response

The routes in a successful response are listed in the order of decreasing optimality. In case the request includes the supporting points `supportingPoints` field, the response will specify the reconstructed route before any alternative routes.

Note: for the purpose of brevity the following example contains all the fields described in this document. In practice some fields are incompatible with others, and only a subset of them will be present in the response depending on the given request parameters.

A response could look like this: (Note: Comments are contained within `... ...`.)

<Accordion label="Response body - JSON" isClosed>

```json
{
  "formatVersion": "0.0.12",
  "routes": [
    {
      "summary": {
        "lengthInMeters": 1147,
        "travelTimeInSeconds": 161,
        "trafficDelayInSeconds": 15,
        "trafficLengthInMeters": 147,
        "departureTime": "2015-04-02T15:01:57+02:00",
        "arrivalTime": "2015-04-02T15:04:38+02:00",
        "batteryConsumptionInkWh": 0.155
      },
      "legs": [
        {
          "summary": {
            "lengthInMeters": 108,
            "travelTimeInSeconds": 11,
            "trafficDelayInSeconds": 0,
            "trafficLengthInMeters": 0,
            "departureTime": "2015-04-02T15:01:57+02:00",
            "arrivalTime": "2015-04-02T15:02:07+02:00",
            "batteryConsumptionInkWh": 0.1,
            "originalWaypointIndexAtEndOfLeg": 0,
            "userDefinedPauseTimeInSeconds": 1020,
            "entryPointIndexAtEndOfLeg": 0
          },
          "points": [
            {
              "latitude": 52.5093087,
              "longitude": 13.4293737
            },
            {
              "latitude": 52.5090373,
              "longitude": 13.4291258
            },
  ...further points...
          ],
          "encodedPolyline": "}lcph^qmsc_GrhD|yC",
          "encodedPolylinePrecision": 7
        },
  ...further legs...
      ],
      "progress": [
        {
          "pointIndex": 0,
          "travelTimeInSeconds": 0,
          "distanceInMeters": 0,
          "batteryConsumptionInkWh": 0
        },
        {
          "pointIndex": 5,
          "travelTimeInSeconds": 7,
          "distanceInMeters": 74,
          "batteryConsumptionInkWh": 0.002
        },
  ...further progresses...
        {
          "pointIndex": 87,
          "travelTimeInSeconds": 161,
          "distanceInMeters": 1147,
          "batteryConsumptionInkWh": 0.155
        }
      ],
      "sections": [
        {
          "startPointIndex": 0,
          "endPointIndex": 3,
          "sectionType": "TRAVEL_MODE"
          "travelMode": "other"
        },
        {
          "startPointIndex": 3,
          "endPointIndex": 7,
          "sectionType": "TRAVEL_MODE"
          "travelMode": "car"
        },
        {
          "startPointIndex": 2,
          "endPointIndex": 5,
          "sectionType": "TOLL"
        },
        {
          "startPointIndex": 3,
          "endPointIndex": 4,
          "sectionType": "TUNNEL"
        },
        {
          "startPointIndex": 0,
          "endPointIndex": 1,
          "sectionType": "PEDESTRIAN"
        },
        {
          "startPointIndex": 3,
          "endPointIndex": 4,
          "sectionType": "TRAFFIC",
          "simpleCategory": "JAM",
          "effectiveSpeedInKmh": 40,
          "delayInSeconds": 158,
          "magnitudeOfDelay": 1,
          "tec": {
            "effectCode": 4,
            "causes": [
              {
                "mainCauseCode": 1
              },
              {
                "mainCauseCode": 26,
                "subCauseCode": 2
              }
            ]
          }
        },
  ...further sections...
      ]
    }
  ...further routes...
  ]
}
```

</Accordion>  

### Example of an error response

If an error occurs, the response contains the description of the error. The error response would look like this:

```json [title=Error response example - JSON]
{
  "formatVersion": "0.0.12",
  "detailedError": {
    "code": <error code>,
    "message": "Error message"
  }
}
```

### Structure of a successful response

Note that some names are implicitly defined. One example is the name <code>leg</code>
when describing <code>legs</code> as an array of <code>leg</code> objects.

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', width: '300px' }}>
        JSON field
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>formatVersion</code>

        *string*
      </th>
      <td>
        The format version.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>routes</code>  
        *array of route objects*
      </th>
      <td>
        The request may return more than one route.  
        Each object has at least a <code>summary</code> field and a
        <code>legs</code> field. It may contain other fields depending on the
        request parameters.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>summary</code>  
        *summary object*
      </th>
      <td>
        The summary of a route, or of a route leg.  
        The <code>summary</code> object may be extended with new fields in the
        future; clients should ignore fields they do not recognize.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>legs</code>  
        *array of <code>leg</code> objects*
      </th>
      <td>
        A description of a part of a route, comprised of an array of points.
        <ul>
          <li>
            Contains the <code>summary</code> field and may contain the <code>points</code>, <code>encodedPolyline</code>, and <code>encodedPolylinePrecision</code> fields.
          </li>
          <li>
            Each additional waypoint provided in the request will result in an
            additional leg in the returned route.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>points</code>  
        *array of objects*
      </th>
      <td>
        Each object in the array is a location on the surface of the globe
        defined by its <code>latitude</code> and <code>longitude</code> fields.  
        <code>points</code> and <code>encodedPolyline</code> are alternative representation formats.
        See the
        <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
        section for further information.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>encodedPolyline</code>  
        *string*
      </th>
      <td>
        A string in the 
        <a href="#encoded-polyline-format">encoded polyline format</a>,
        representing the array of points describing a part of a route.  
        The precision used to encode the polyline is set in the <code>encodedPolylinePrecision</code> field.
        <code>points</code> and <code>encodedPolyline</code> are alternative representation formats.
        See the
        <a href="#route-geometry-representation-formats">Route geometry representation formats</a>
        section for further information.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>encodedPolylinePrecision</code>  
        *integer*
      </th>
      <td>
        The precision used to encode the polyline in the <code>encodedPolyline</code> field.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>sections</code>  
        *array of section objects*
      </th>
      <td>
        Included if requested using the <code>sectionType</code> parameter.
        This array is available inside <code>route</code> objects.
        <ul>
          <li>
            Contains one or more <code>section</code> objects.
          </li>
          <li>
            The structure of <code>section</code> objects is given below.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>startPointIndex</code>  
        *number*
      </th>
      <td>
        Index of the first point (offset <code>0</code>) in the route this
        section applies to.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>endPointIndex</code>  
        *number*
      </th>
      <td>
        Index of the last point (offset <code>0</code>) in the route this
        section applies to.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>countryCode</code>  
        *string*
      </th>
      <td>
        A 3-character
        <a href="https://gist.github.com/tadast/8827699" target="_blank">ISO 3166-1 alpha-3</a>
        country code.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>simpleCategory</code>  
        *string*
      </th>
      <td>
        Type of the incident.
        <ul>
          <li>
            Can currently be <code>JAM</code>, <code>ROAD_WORK</code>,
            <code>ROAD_CLOSURE</code>, or <code>OTHER</code>.
          </li>
          <li>
            See the <code>tec</code> field for detailed information.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>effectiveSpeedInKmh</code>  
        *number*
      </th>
      <td>
        The effective speed of the incident in km/h, averaged over its entire
        length.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>delayInSeconds</code>  
        *number*
      </th>
      <td>
        The delay in seconds caused by the incident.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>magnitudeOfDelay</code>  
        *number*
      </th>
      <td>
        The magnitude of delay caused by the incident.  
        Possible values:
        <ul>
          <li>
            <code>0</code>: unknown
          </li>
          <li>
            <code>1</code>: minor
          </li>
          <li>
            <code>2</code>: moderate
          </li>
          <li>
            <code>3</code>: major
          </li>
          <li>
            <code>4</code>: undefined, used for road closures and other
            indefinite delays
          </li>
        </ul>
        These values correspond to the values of the response field
        <a href="https://developer.Example.com/traffic-api/documentation/traffic-incidents/incident-details#structure-of-the--incidentproperties--object"><code>magnitudeOfDelay</code></a>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>tec</code>  
        *object*
      </th>
      <td>
        Details of the traffic event. It uses the definitions in the
        <a href="https://www.iso.org/standard/63116.html" target="_blank">TPEG2-TEC</a>
        standard. It can contain the <code>effectCode</code> and
        <code>causes</code> fields.  
        A selection of TPEG2-TEC causes can be found in the
        <a href="https://tisa.org/wp-content/uploads/ITSTF20001_SafetyrelatedMessage-Sets-DATEXII_DENM_TPEG-TEC_TMC_-v1.5_FINAL-1.pdf" target="_blank">Terms and definitions of Safety related message sets</a>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>effectCode</code>  
        *number*
      </th>
      <td>
        The effect on the traffic flow. Contains a value in the
        <code>tec001:EffectCode</code> table, as defined in the
        <a href="https://www.iso.org/standard/63116.html" target="_blank">TPEG2-TEC</a>
        standard. Can be used to color-code traffic events according to
        severity.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>causes</code>  
        *array of objects*
      </th>
      <td>
        Each object in the array describes one cause of the traffic event.
        <ul>
          <li>
            It can contain the <code>mainCauseCode</code> and
            <code>subCauseCode</code> fields.
          </li>
          <li>It can be used to define iconography and descriptions.</li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>mainCauseCode</code>  
        *number*
      </th>
      <td>
        The main cause of the traffic event. Contains a value in the
        <code>tec002:CauseCode</code> table, as defined in the
        <a href="https://www.iso.org/standard/63116.html" target="_blank">TPEG2-TEC</a>
        standard.  
        A selection of TPEG2-TEC causes can be found in the
        <a href="https://tisa.org/wp-content/uploads/ITSTF20001_SafetyrelatedMessage-Sets-DATEXII_DENM_TPEG-TEC_TMC_-v1.5_FINAL-1.pdf" target="_blank">Terms and definitions of Safety related message sets</a>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>subCauseCode</code>  
        *number*
      </th>
      <td>
        The sub-cause of the traffic event. Contains a value in the sub cause
        table defined by the <code>mainCauseCode</code>, as defined in the
        <a href="https://www.iso.org/standard/63116.html" target="_blank">TPEG2-TEC</a>
        standard.  
        A selection of TPEG2-TEC causes can be found in the
        <a href="https://tisa.org/wp-content/uploads/ITSTF20001_SafetyrelatedMessage-Sets-DATEXII_DENM_TPEG-TEC_TMC_-v1.5_FINAL-1.pdf" target="_blank">Terms and definitions of Safety related message sets</a>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>lengthInMeters</code>  
        *number*
      </th>
      <td>
        The route or leg length in meters.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>travelTimeInSeconds</code>  
        *number*
      </th>
      <td>
        The estimated travel time in seconds depending on [`traffic`](#traffic).
        <ul>
          <li>
            If `traffic=historical`, then
            `travelTimeInSeconds` includes historical travel times on
            the route.
          </li>
          <li>
            If `traffic=live`, then `travelTimeInSeconds`
            includes historical travel times as well as traffic jams during the
            travel time window on the route.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>trafficDelayInSeconds</code>  
        *number*
      </th>
      <td>
        The delay in seconds compared to free-flow conditions according to
        real-time traffic information.
        Note that this is zero if `traffic=historical`.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>trafficLengthInMeters</code>  
        *number*
      </th>
      <td>
        The portion of the route or leg, expressed in meters, that is affected
        by traffic events which cause the delay.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>deviationDistance</code>  
        *number*
      </th>
      <td>
        The distance (in meters) from the origin point of the
        <code>calculateRoute</code> request to the first point where this route
        forks off from the reference route.
        <ul>
          <li>
            If the route is identical to the reference route, then this field is
            set to the length of the route.
          </li>
          <li>
            Included in all alternative (but not reference) <code>route</code>
            <code>summary</code> fields.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>deviationTime</code>  
        *number*
      </th>
      <td>
        The travel time (in seconds) from the origin point of the
        <code>calculateRoute</code> request to the first point where this route
        forks off from the reference route.
        <ul>
          <li>
            If the route is identical to the reference route, then this field is
            set to the estimated travel time of the route.
          </li>
          <li>
            Included in all alternative (but not reference) <code>route</code>
            <code>summary</code> fields.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>deviationPoint</code>  
        *object*
      </th>
      <td>
        The coordinates of the first point following the origin point of the
        <code>calculateRoute</code> request where this route forks off from the
        reference route.
        <ul>
          <li>
            If the route is identical to the reference route, then this field is
            set to the coordinates of the last point on the route.
          </li>
          <li>
            Included in all alternative (but not reference) <code>route</code>
            <code>summary</code> fields.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>departureTime</code>  
        *string*
      </th>
      <td>
        The estimated departure time for the route or leg. Specified as a
        <code>dateTime</code>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>arrivalTime</code>  
        *string*
      </th>
      <td>
        The estimated arrival time for the route or leg. Specified as a
        <code>dateTime</code>.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>planningReason</code>  
        *string*
      </th>
      <td>
        The reason for a better route proposal. Can currently be:
        <ul>
          <li>
            <code>Blockage</code> in case the reference route contains road
            blockages. The returned value is implementation-defined in case both
            reasons for a better proposal are applicable to the same route.
          </li>
          <li>
            <code>Better_Proposal</code> in case the alternative type is better
            than the reference route, according to the given planning criterion
            (set by <code>routeType</code>).
          </li>
        </ul>
        This field is included in the response only if the route is requested
        with <code>alternativeType=betterRoute</code>. This field is not present
        in the
        <code>leg</code> <code>summary</code> field.
      </td>
    </tr>
    <tr>
      <th scope="row" id="batteryConsumptionInkWhId">
        <code>batteryConsumptionInkWh</code>  
        *number*
      </th>
      <td>
        The estimated electric energy consumption in kilowatt hours (kWh).
        <ul>
          <li>
            Included if:
            <ul>
              <li>
                <code>vehicleEngineType</code> is set to <code>electric</code>.
              </li>
              <li>
                <code>constantSpeedConsumptionInkWhPerHundredkm</code> is
                specified.
              </li>
            </ul>
          </li>
          <li>
            The value of <code>batteryConsumptionInkWh</code> includes the
            recuperated electric energy and can therefore be negative (which
            indicates gaining energy).
          </li>
          <li>
            If both <code>maxChargeInkWh</code> and
            <code>currentChargeInkWh</code> are specified, recuperation will be
            capped to ensure that the battery charge level never exceeds
            <code>maxChargeInkWh</code>.
          </li>
          <li>
            If neither <code>maxChargeInkWh</code> nor
            <code>currentChargeInkWh</code> are specified, unconstrained
            recuperation is assumed in the consumption calculation.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>progress</code>  
        *array of progress point objects*
      </th>
      <td>
        This field is included if <code>extendedRouteRepresentation</code> is
        used.
        <ul>
          <li>
            It always contains entries for the first and the last point in the
            route.
          </li>
          <li>
            For any pair of consecutive entries in the <code>progress</code>
            array, progress for
            <code>pointIndex</code> values that are not explicitly present and are
            enclosed by said pair, can be linearly interpolated by summing up straight
            line distances of the leg points.
          </li>
          <li>
            The [Haversine formula](https://en.wikipedia.org/wiki/Haversine_formula)
            is precise enough to compute such distances.
          </li>
        </ul>
        A <code>progress point</code> object may contain the following members:
        <ul>
          <li>
            <code>pointIndex</code>: index of the point (offset <code>0</code>)
            in the route this object applies to.
          </li>
          <li>
            <code>distanceInMeters</code>: distance (in meters) from the start
            of the route to this point. This field is included if the
            <code>extendedRouteRepresentation</code> value <code>distance</code>
            is used.
          </li>
          <li>
            <code>travelTimeInSeconds</code>: travel time (in seconds) from the
            start of the route to this point. This field is included if the
            <code>extendedRouteRepresentation</code> value
            <code>travelTime</code> is used.
          </li>
          <li>
            <code>batteryConsumptionInkWh</code>: electric energy consumption 
            (in kilowatt hours) from the start of the route to this point. 
            This field is included if the <code>extendedRouteRepresentation</code> value
            <code>consumption</code> is used and the <code>vehicleEngineType</code> is set to electric.
            See also the <code>batteryConsumptionInkWh</code> in 
            <a href="#batteryConsumptionInkWhId">summary section</a>.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>originalWaypointIndexAtEndOfLeg</code>  
        *number*
      </th>
      <td>
        The index of the waypoint at the end of the leg that corresponds to:
        <ul>
          <li>
            The index of this waypoint in the list of waypoints from the
            <code>routePlanningLocations</code> base path parameter in the request
            (the first waypoint has an index equal to 0).
          </li>
          <li>
            The index of this waypoint in the <code>pointWaypoints</code>
            field when reconstructing a route.
          </li>
        </ul>
        This field is not provided if the end of the leg corresponds to the destination
        or to a new charging waypoint that is not present in the request.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>userDefinedPauseTimeInSeconds</code>  
        *number*
      </th>
      <td>
        Contains the value of <code>pauseTimeInSeconds</code>, if it was specified for the corresponding leg. 
        This field is not present in the <code>route</code> <code>summary</code> field.
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>entryPointIndexAtEndOfLeg</code>  
        *number*
      </th>
      <td>
        Identifies the entry point that was used for the route at the end of the leg.  
        This index corresponds to the position of this entry point in the list of entry points within the respective leg.  
        The first entry point has an index equal to 0.  
        This field is only present if the leg had <code>entryPoints</code> in the request.  
      </td>
    </tr>
  </tbody>
</table>

### Structure of the <code>section</code> object

Each <code>section</code> object contains additional information about parts of a route. A <code>section</code> object contains at least the fields <code>startPointIndex</code>, <code>endPointIndex</code>, and <code>sectionType</code>.

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="250px;">
        JSON field
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>sectionType</code>  
        *string*
      </th>
      <td>
        Contains the response section type.
        <table>
          <thead>
            <tr>
              <th scope="col">Request section type</th>
              <th scope="col">Response section type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <code>carTrain</code>
              </td>
              <td>
                <code>CAR_TRAIN</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>country</code>
              </td>
              <td>
                <code>COUNTRY</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>ferry</code>
              </td>
              <td>
                <code>FERRY</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>motorway</code>
              </td>
              <td>
                <code>MOTORWAY</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>pedestrian</code>
              </td>
              <td>
                <code>PEDESTRIAN</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>toll</code>
              </td>
              <td>
                <code>TOLL</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>traffic</code>
              </td>
              <td>
                <code>TRAFFIC</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>travelMode</code>
              </td>
              <td>
                <code>TRAVEL_MODE</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>tunnel</code>
              </td>
              <td>
                <code>TUNNEL</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>carpool</code>
              </td>
              <td>
                <code>CARPOOL</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>urban</code>
              </td>
              <td>
                <code>URBAN</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>unpaved</code>
              </td>
              <td>
                <code>UNPAVED</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>lowEmissionZone</code>
              </td>
              <td>
                <code>LOW_EMISSION_ZONE</code>
              </td>
            </tr>
            <tr>
              <td>
                <code>speedLimit</code>
              </td>
              <td>
                <code>SPEED_LIMIT</code>
              </td>
            </tr>
          </tbody>
        </table>
        <ul>
          <li>
            The <code>COUNTRY</code> sections span between country border crossings,
            from the departure, or to the destination.
            <ul>
              <li>
                The section additionally contains <code>countryCode</code>.
              </li>
              <li>
                If the route has disjointed parts in the same country, there will be
                several sections with the same <code>countryCode</code>.
              </li>
              <li>
                If no country can be assigned to a part of the route, as for example
                in international waters, there may be no country section for this
                part.
              </li>
            </ul>
          </li>
          <li>
            A <code>TRAFFIC</code> section may additionally contain any of
            the following: <code>simpleCategory</code>,
            <code>effectiveSpeedInKmh</code>, <code>delayInSeconds</code>,
            <code>magnitudeOfDelay</code>, <code>tec</code>.
          </li>
          <li>
            <code>TRAVEL_MODE</code> sections cover the whole route. Each
            section&#39;s travel mode is reported in <code>travelMode</code>
            .
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <th scope="row">
        <code>travelMode</code>  
        *string*
      </th>
      <td>
        This field is either set to the value given to the request parameter
        <code>travelMode</code>, if this travel mode is possible, or to
        <code>other</code> which indicates that the given mode of transport is
        not possible in this section. This field can only be used within
        sections of type <code>TRAVEL_MODE</code>.
      </td>
    </tr>
  </tbody>
</table>

### Structure of an error response

<table>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em' }} width="150px;">
        JSON field
      </th>
      <th scope="col" style={{ fontSize: '1em' }}>
        Description
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">
        <code>detailedError</code>
        <br />
        *object*
      </th>
      <td>
        This object provides a representation of the error message. It contains
        a <code>code</code> and a <code>message</code> field.
        <table>
          <thead>
            <tr>
              <th scope="col" width="100px;">
                JSON field
              </th>
              <th scope="col">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">
                <code>code</code>
                <br />
                *string*
              </th>
              <td>
                <p>The (non-complete) list of error codes is:</p>
                <table>
                  <thead>
                    <tr>
                      <th scope="col" width="250px;">
                        Error code
                      </th>
                      <th scope="col">Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <th scope="row">
                        <code>MAP_MATCHING_FAILURE</code>
                      </th>
                      <td>
                        One of the input points (Origin, Destination, Waypoints)
                        could not be matched to the map because there is no
                        known drivable section near this point. This error code
                        is always followed by a description of one point that
                        was not matchable:
                        <ul>
                          <li>
                            Origin (Latitude, Longitude)
                          </li>
                          <li>
                            Destination (Latitude, Longitude)
                          </li>
                          <li>
                            Waypoint N (Latitude, Longitude)
                          </li>
                        </ul>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">
                        <code>NO_ROUTE_FOUND</code>
                      </th>
                      <td>
                        No valid route could be found.
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">
                        <code>CANNOT_RESTORE_BASEROUTE</code>
                      </th>
                      <td>
                        The route reconstruction using
                        <code>supportingPoints</code> failed.
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">
                        <code>BAD_INPUT</code>
                      </th>
                      <td>
                        Some input parameter combination was not valid.
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">
                        <code>COMPUTE_TIME_LIMIT_EXCEEDED</code>
                      </th>
                      <td>
                        The request exceeded the internal compute time limit and
                        was canceled.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
            <tr>
              <th scope="row">
                <code>message</code>
                *string*
              </th>
              <td>
                A human readable error message.
                <ul>
                  <li>
                    It is a freeform string which may be extended in the future,
                    so it is recommended to only match substrings of the
                    description.
                  </li>
                  <li>
                    The string always contains an error code.
                  </li>
                </ul>
                #### Example of a description string:
                <code>
                  Engine error while executing route request:
                  MAP_MATCHING_FAILURE: Origin (54.3226, 3.11463)
                </code>
                <code>
                  Engine error while executing route request:
                  MAP_MATCHING_FAILURE: Origin (54.3226, 3.11463)
                </code>
                <code>
                  Engine error while executing route request:
                  MAP_MATCHING_FAILURE: Waypoint 3 (54.3226, 3.11463)
                </code>
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
  </tbody>
</table>

## Route geometry representation formats

Certain request and response fields that describe route geometry as a polyline support two alternative representation formats:

* An array of points defined as raw decimal coordinates, such as the `supportingPoints` field in requests and the `points` field in responses.
* An encoded polyline string, such as the `encodedPolyline` field in both requests and responses.

Where documented, either of the two representations can be used.
This is purely a matter of representation and is independent of any other statements about route geometry.
The field containing the array of points is used as a stand-in for the concern of route geometry.
For brevity, any references and constraints related to the polyline are stated using the stand-in only.  

Using encoded polylines can significantly reduce the data size of requests and responses.

## Encoded polyline format

For efficient representation of polylines as encoded polyline strings, this service uses an extended version of the
<a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm" target="_blank">Encoded Polyline Algorithm Format</a>.  
The original algorithm limits coordinate precision to 5 decimal places by using a multiplier of `1e5` for the decimal values.
The extension allows using multipliers of both `1e5` and `1e7`.
These multipliers correspond to precisions of 5 and 7 decimal places.
Please note that each field in the encoded polyline format may have limitations on its supported precisions.  
Since the encoded polyline string doesn't contain information of the precision or multiplier used, this information must be provided separately alongside each encoded polyline string.  
We recommend taking special care when using the higher precision, as some encoding implementations may suffer internal overflows with the higher multiplier.

### Encoding

When encoding a polyline, select a supported precision and use the respective multiplier for the decimal value instead of the fixed `1e5` multiplier in the original algorithm (refer to the following table).  
Otherwise, the encoding process remains the same as in the original algorithm.
Ensure to send the precision used alongside each encoded polyline string in the request.

### Decoding

When decoding a received polyline, use the provided precision next to the encoded polyline string to determine the appropriate multiplier for the decimal value instead of the fixed `1e5` multiplier in the original algorithm (refer to the following table).
Otherwise, the decoding process remains the same as in the original algorithm.
Note that each encoded polyline string is accompanied by the precision used for its encoding.

### Precisions and multipliers

The following table illustrates the relationship between precision and multiplier:

<table style={{ overflowWrap: 'anywhere' }}>
  <thead>
    <tr>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Precision
      </th>
      <th scope="col" style={{ fontSize: '1em', fontWeight: 'bold' }}>
        Multiplier
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="row">
        <code>5</code>  
      </td>
      <td>
        <code>1e5</code>
      </td>
    </tr>
    <tr>
      <td scope="row">
        <code>7</code>  
      </td>
      <td>
        <code>1e7</code>
      </td>
    </tr>
  </tbody>
</table>
